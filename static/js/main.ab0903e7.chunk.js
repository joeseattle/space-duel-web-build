(this["webpackJsonpspace-duel-web"]=this["webpackJsonpspace-duel-web"]||[]).push([[0],{25:function(e,t,A){},26:function(e,t,A){},57:function(e,t,A){"use strict";A.r(t);var i,n=A(8),s=A.n(n),a=A(18),r=A.n(a),l=(A(25),A(26),A(9)),h=A(10),c=A(20),o=A(19),g=A(15),d=A(1),u=A.n(d),p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1gwcFgkPjloprgAAABd0RVh0Q29tbWVudAAgSE9UU1BPVCAxMCAxNwqzzI0JAAAD30lEQVR42qVWv09bVxT+/J6fjY2N8Q+MYxkGYAEElsofUEUyQxV1qcQUKVOlsCCxdQ1sqGLrEDw0UkYypBMLVSpl6dA4SKDUOErBojY//APsAP7t9/LdWwspQ+sq90pHuu/d+777nXO+c+6zoc/wer3Y2PjJyucdODx8jZERC9vb248vLy+T+Jeh9QO9vr5GPt/B8XEYhvEdut1v4Pf7t8DxxaBzc3PW8PAwbDZdmqbpCAQC+K9h74NJIBsaDaMHCrRabdB1NVBd1xGJDKJQcMM0uxgaAiqVyoaS+9lsdjGXM/HxY5fWwdVVE5ZlHamAMjHdX32+xl1MPR6NcdUSSqChUMhyOgME80gzDId4t6QU09HRUboLCWiaHepWp14PbSpMmaACk2NHsViVVq9fYWZmxlIBldm/vdV6MdWkMc5qkiIAmWqo1SrCfcrpCplMxqbM9OnTVTx8WMKjR1WC/yLKNNGXKWPEhpG3VatVCj1ira2tgc9ot9sIh8PY29uD0+mEy+WSzNfX13fF2unpqdAsNjc3P2OuM7vW8vIyYrHYk3K5/ERkeXBwEF5udp+dIcSP42NjKLx7B0+pBDcP9rNerz98ADj/8/xclO23tVotecdUgMTjcUxMTGB6elpsYEc6xoP37xGv16FxTjqw67pkNUcz02k0Ox00OJ+tVDAOLPzMg275LEHJFGNkYpomJicn2TBaomIQfPkSUYLC4QD95s5eTrmGmxuAay0S8J2c4KtQCN9PTFi/lct4xXfawMBAb6+QiwyNAJaHgCZByFKCkh2HZM65XBfDRmtzrvN7t2HAfsKTRFJEks4YQ5roQvj67VsMMTkaN3b5gdVzzckDGnw2hLtM2i6LY5fs/iD7bKslWdkZw8epVGrr4OAA+/v7ku3i4iIu7t/HK7LL5XLwke3IvXuIjY+jwIxTuMhyrzsaxe8XF3jx7Nln2RegSd45W6KeG42GUIFFQ5RxlvIIsJlEIgjy3V8EzPF6Geeah3E8OjqSvYGyu2Q5B/B/BzvSdiKRsJLJpLWzs2OtrKzIOChVFFksra7+iDdv5vH8uQ/N5gMog9KtF/W6zkQPw+32MeYOzM7OqnWpqampJd5NzL4pze+XelXrUg6K3zDs/IkQrjd4PQ8I9ikVUDnK5XMWkQNCHbp+ygNGForF4peDUvTsUB6C3sh+6nJ5QcCU8nXyT0yFmWRbEzJbUAJlcaQMQ2fTCTPzVUoshlKppMRU/jiwVyKb/Zs9xMU+caGuU14dS+z2BJfGmHZE31V2f4NE70Dr9RrS6bSapILB4A/RaBPz8zXZZzOZ130l9Ql0/fqAQXYbwQAAAABJRU5ErkJggg==",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1gwcFi447CI+xAAAABd0RVh0Q29tbWVudAAgSE9UU1BPVCAxMCAxNwqzzI0JAAAD2ElEQVR42q1WS0wbVxQ9Y8aOvzL/1mChhIQKEBGgWJGolKqL7lAjpKgVy+66q1iwi5QlUpdI2WTTRRdRRDfdQemyIBMplpAosakIAczHfAwmhrj+zLye+2R5k0qzGF/p6s3YM/ede+65940BB4tEInj27LkqFLwolfbw9m0aS0u/Or7ngYMZhoFCoYb37z/D0VEC9+5Noa2t7RvXgVtbW5Xf38kNTHoLTNNER0fHn64DX11dGYGALUHpHtRqlmwGJzPhTEV/OBzC7dtxlMtlRKNe7Ozs/OgaMY1FKyObPUUul8flZRGdnZ0vXCNub29/R9R1KhQ59sHj8cA1Ytu2EQ5HqIRW8ltCS4uJ8/Pz31wjFnQ+n6A0cefOFwgELiXw903huFKpUss31PE5zs4K6OrqeuM2MFNvQTAYEqmJUxVaxw+aghgo6uJ9/HiFarVG1Gc/OwKCsx3v7f397ePHHejvP6PcXmN5efmRo/6lMIODg2pra8uQBkgkEmpychJKKZkJODk5Ed1ibGxMF3FxcRE9PT04ODgQKWqqZmdnjU9U0dvbq6anp5FOp9Xq6io2NjaMWCymotGHwifTDqBY9PM6SDX8yxaPIRSKY3v7Gt3dfhb13f8jHh8fV3Nzc3y5KChkNmhPpb4mr18SuWi5Vi/kLV5X+ZtF+flgWTe4uHjD5/9CPv8H1ZMxGoiDwSD6+vr4kIWBgQH+WWEj1OhBpt7FTgO1C71S0kQIbggWEZRfhM98RaoeMMYPuL7+R+VyL1nkNDylUgk04VS6TG8g9uGDl5voIPxNrzpwJKI30fd+v9ReybWsfK4sWdF9MAVdNptlKnmRkV6Pj485wX4CkONLXgY0mEFFVi07pWyhh2uFGWzwnSXy//KuZRV2GlScnp6SzxSLsY2VlRURPyYmJjgmfyeyAEZGRsjjJe+HhFseTRlmU8TNTY3/fY5k8hdKcB31oA3TSYyOjqrd3V1Diia2sLCgkskk4vF4YxBNTU3p02NtbU0XmdIkz1XtLL7xiSrgYENDQ4rKwczMDNbX1yEZzs/Pp0hbwtV0E3vy5ClevfIR+SMWdAtizThMRYLk1aZbiMX62Bjd7ocQVSJyksLRbWq1KGPT/WHK+UA3GCzK4snqxebmZspt4HoX2qSjjP39fbbvBaRwzZjHbNGSaFnrWqk2DA8PK9eBZah7vWa90+RjxSNjtDkfLOSWaggT8S3Oirwcpu4Ds8W/Ozq6xuFhmagtniI6i1RTvitCIbshNwbXh2kzqIBlCb+GBNYndSaTMVwHpunOu3+/QD0fcgBd6O8KJ8n9B56m58z7G/geAAAAAElFTkSuQmCC",v=36,m=34,I=21,C=3,b=200,j=function(){function e(t,A,i,n,s,a,r,h){Object(l.a)(this,e),this.tickInput=void 0,this._running=void 0,this.player1IsHuman=void 0,this.player2IsHuman=void 0,this.player2Agent=void 0,this.player1IsAlive=void 0,this.player2IsAlive=void 0,this.notifyEnd=void 0,this.engine=void 0,this.render=void 0,this.runner=void 0,this.dimensions=void 0,this.center=void 0,this.sun=void 0,this.player1=void 0,this.player2=void 0,this.player1IsHuman=A,this.player2IsHuman=i,this.player2Agent=n,this.notifyEnd=s,this.dimensions=u.a.Vector.create(r,h),this.center=u.a.Vector.create(Math.floor(r/2),Math.floor(h/2)),this.engine=d.Engine.create(),this.engine.timing.timeScale=a,this.engine.gravity.scale=0,t.setAttribute("style","background-image: url('".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADwBAMAAACDA6BYAAAABGdBTUEAALGPC/xhBQAAABtQTFRFDw8PLy8vPz8/T09PX19ff39/j4+Pr6+v39/frETAxAAAAtxJREFUeNrtnT2O2zAQhWe01G77Ch6AAXKAHIEM4NQqBKR1EWDbNAvkBrl2kErYQoAUjqTn7PsAAy5sw37mzLzhj2T9fH79UWwH1c7m2faQZ1gXbntJZmcqmHHwT0Lnx3qvpMu74pXyAEmXd3UybPjUcAWjvvTjA+PGmxQUQqwkd2oyLAwVMiEeJPCTkTMaN/l1BpE7866ePN7f+oZK82QhlM7Kt66gK4UIIdTV76cS5LzwSegMKaiZJSHUvap7XcVvjVzvRFD2AjUZHtIgcZNnSEEZJLEJ8BZqvy5YMra/auJdX/K/j29vzbi5GzkVxs2nxm7IC6WpzLjcxCNcjZHdrbxw+z2//Xpr5Aqym4BRrbjW0dTIqJk+nMoerFC62zTzqILRhyslR+CNXYKiqsRdlZxdwQyDtk8LlYM1QH5Oyhu7gkV2QufshPbifOAjZDhWQWdPThnkVcSVfwkqGC4aJGCv4ZV9DE3HjABEhO+y9yE0BnzPgEin7X0o75MuwqZd60HNfZiCuDbnumbgtC70L0BzNIoWKahZCvX3fOu1zr7indgVHI/X3SMuhOG02wCeFz/PuZHiafHznAq6dt49ZDEdmnGTC7uCMvOHMRkvOvATNgbBXCywOVAyrqq2eQaXgsmcOtX4rSVQJ+tkg9pSIR5yeIL8wrre2BUsJhRpIWSQ92fO3J8heLEFZ3axlaErnoLVmOK7WPKu+M7eFVf2mRlokfBswC51PcRLemzijPeSGeTTf0NgotMUdCeQ015w9pPbGVct2SImthP73nLXviNZlSBAXib8q21lYlfwJ3eI5e+/Z/Ae4VwU1Gq5zJ5QYQuisv+CaauvBOsWnHJx9rlzHF1wW+NLbP6O793AEe6upTTdDVb/PnFh9eVZY//TikJWVyATurmULvGqMSiE4uBD5GJnVzCxj8HRyHkxVpa7rkjBrmAcCbo3irw4yGEJmZb/rP0Zj1xm+wPmtje1byJGtwAAAABJRU5ErkJggg==","'); background-repeat: repeat")),this.render=d.Render.create({element:t,engine:this.engine,options:{wireframes:!1,background:"transparent",width:r,height:h}}),d.Render.run(this.render),this.runner=d.Runner.create(),d.Runner.run(this.runner,this.engine),this._running=!0,d.Events.on(this.runner,"tick",this.handleTick.bind(this)),d.Events.on(this.runner,"afterTick",this.handleAfterTick.bind(this)),d.Events.on(this.engine,"collisionStart",this.handleCollision.bind(this)),this.sun=this.buildSun(),this.player1=this.buildPlayer(.5,p),this.player1IsAlive=!0,this.player2=this.buildPlayer(1.5,y),this.player2IsAlive=!0,d.Composite.add(this.engine.world,[this.sun,this.player1,this.player2]),this.tickInput={player1:{rotateLeft:!1,rotateRight:!1,accelUp:!1,accelDown:!1,fireBullet:!1},player2:{rotateLeft:!1,rotateRight:!1,accelUp:!1,accelDown:!1,fireBullet:!1}},document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this))}return Object(h.a)(e,[{key:"isRunning",value:function(){return this._running}},{key:"setRunning",value:function(e){this._running=e,this.runner.enabled=e}},{key:"destroy",value:function(){d.Render.stop(this.render),this.render.element.innerHTML="",d.Runner.stop(this.runner),d.Composite.rebase(this.engine.world),d.Engine.clear(this.engine)}},{key:"handleCollision",value:function(e){var t,A=Object(g.a)(e.pairs);try{for(A.s();!(t=A.n()).done;)for(var i=t.value,n=i.bodyA,s=i.bodyB,a=0,r=[n,s];a<r.length;a++){var l=r[a];l===this.player1&&(this.createExplosionAt(l.position),this.player1IsAlive=!1,this.notifyEnd&&this.notifyEnd(!1)),l===this.player2&&(this.createExplosionAt(l.position),this.player2IsAlive=!1,this.notifyEnd&&this.notifyEnd(!0)),l===this.sun||d.Composite.remove(this.engine.world,l)}}catch(h){A.e(h)}finally{A.f()}}},{key:"handleTick",value:function(e){var t,A=d.Composite.allBodies(this.engine.world),i=Object(g.a)(A);try{for(i.s();!(t=i.n()).done;){var n=t.value;n!==this.sun&&this.applyGravity(this.sun,n)}}catch(a){i.e(a)}finally{i.f()}if(this.player1IsHuman&&this.player1IsAlive&&(this.tickInput.player1.accelUp?(this.accelBody(this.player1),this.player1.render.sprite&&(this.player1.render.sprite.texture="data:image/png;base64,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")):this.player1.render.sprite&&(this.player1.render.sprite.texture=p),this.tickInput.player1.rotateRight&&this.rotateBody(this.player1,1),this.tickInput.player1.rotateLeft&&this.rotateBody(this.player1,-1),this.tickInput.player1.fireBullet&&(this.shootBullet(this.player1,"1","#FF0000"),this.tickInput.player1.fireBullet=!1)),this.player2IsAlive){var s=this.tickInput.player2;!this.player2IsHuman&&this.player2Agent&&(s=this.player2Agent.decideNextTickInput({player1Alive:this.player1IsAlive,player2Alive:this.player2IsAlive,player1:this.player1,player2:this.player2,sun:this.sun})),s.accelUp?(this.accelBody(this.player2),this.player2.render.sprite&&(this.player2.render.sprite.texture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAAXNSR0IArs4c6QAAAKhlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAASShgAHAAAAFwAAAJCgAQADAAAAAQABAACgAgAEAAAAAQAAABagAwAEAAAAAQAAACIAAAAAQVNDSUkAAAAgSE9UU1BPVCAxMCAxNwoAdq8HJQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj9pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPGV4aWY6VXNlckNvbW1lbnQ+CiAgICAgICAgICAgIDxyZGY6QWx0PgogICAgICAgICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPiBIT1RTUE9UIDEwIDE3JiN4QTs8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QWx0PgogICAgICAgICA8L2V4aWY6VXNlckNvbW1lbnQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgqN49iOAAAELUlEQVRIDaVWS2hjVRj+bu5NmjSJ6dtJCWEmDkJLpw8mC7sYcSEMUiyFQQVXunInRQsuBBcuCjobu3SjqChD3dtOXQhaTIutk3Zspw7Tjn1l0kfSvGOS+/D/TyadRWtOIYHDubnn/N/97/d//3euggv8bt/+xkql7CgWt7G+/gCzs98qsjCbbAOvp1I6Hj9+HrFYGFevjqG9vf1VWZwUOBgMWk5nBxRFo6FC0zS0trb+3DDwzs6O4nKZAlRRbNB1Ay0tLTJcaLIdPp8v5PG4cflyAKVSCT6fHVtbW+/J4qRUMECxWMLu7iHi8QROTrLo6Oj4UgYszZgKtakoylMqLOLYAZtNno90h2ma8Hi8VLAW4rcIVdVwfHz8Y8MZc3YOB2ep4cqVF+FynTDwmzJgacYMUC5XSMt50vExjo5S6OzsXGoYWFVVNDe7iWObGD6fxg1yvWHgKkBWFK9QSKNS0Snro89kwKpsA60/2d7+6/XR0XaEQkckt0XMzc3dkMUJM+nv77dWV1fFdTgctkZGRmBZFrcuDg4OWLcYHBwURZyZmUF3dzf29vbQ1tZGKlExMTFxxpS0t9+6ZH0w7kAmHbKSyRheu7n09fzvT97d3n0JK2uv0Gu7kM06qeOaSQ3/Ip32w+0O4NGjHLq6nFTUzXOTVz79JGB9+P7emcVffr2Jz7/4jjIHTFMX66raRNcVumeQ/BwwjDySySV62G9IJO6SejZOM9fs9qYzoHzD5/MiHO6kTgNpF2LmhkulQIUEFREkPy/R8zJRdR3B4DvI5R5a8fgPKBQewFaplM8F1nWVMqiCGEZ1ZmCvt/oQBnc6ufaWeBDPhlEizptoOKAt32vGw38+Qj6XRTaXQT6fJb5T+PPeKKL34xRkp9dWqJ3LYmZPtixT0GNZZXqD+0TDLBX5+xeA9FYtS23xjzR+uvscFeMQ8/OLLH4MDw8jld2k0yKGvr4+4vGEbLNHcLu+voFMJksJ6LR2CZHIVyTBKOE9A2VwQfbAwIC1srJySvz09LQViUQQCAREAmxEY2Nj4vRYWFgQUmNvrhDRPCYnJ09jRUANuPbnvLmnp8caGhrC+Pg4otEoDg8PMTU1tUzdFz5vf+2e1I95461bH+POHQfxeoMK+ncttu4sdTc+38okj0zGpGHA7w9SY3Q1bkKJRELIiZuC1ZAj9ZBt1s2WF6VUsMk7HAqB+ah4PNuxtra2LEOWAuu6Tho2iY4S6FOA2jfJtlm3cPxQKce8qVAoCi1rmovoaEVvby85SP2fFJhN3W7XnnYaf6zYhI3Wh70Ax3T0h5hbv99DHDeRVyT4MJXhyotHLf5GLJbD/n6JsjboFAFzLC2elApuZ7fbFD5RNR/jQoepVBX8FWQYOgErQsd8Wm9sPDP0/+NECsyB3HnXrqVIz/tkQEnxXSGT3H/kUcebyq8PIQAAAABJRU5ErkJggg==")):this.player2.render.sprite&&(this.player2.render.sprite.texture=y),s.rotateRight&&this.rotateBody(this.player2,1),s.rotateLeft&&this.rotateBody(this.player2,-1),s.fireBullet&&(this.shootBullet(this.player2,"2","#0000FF"),this.tickInput.player2.fireBullet=!1)}}},{key:"handleAfterTick",value:function(e){!this.player2IsHuman&&this.player2Agent&&this.player2Agent.rewardAfterTick({player1Alive:this.player1IsAlive,player2Alive:this.player2IsAlive,player1:this.player1,player2:this.player2,sun:this.sun})}},{key:"applyGravity",value:function(e,t){var A=u.a.Vector.create(t.position.x-e.position.x,t.position.y-e.position.y);u.a.Body.applyForce(t,e.position,u.a.Vector.mult(u.a.Vector.normalise(A),-1e-4))}},{key:"rotateBody",value:function(e,t){u.a.Body.rotate(e,.2*t)}},{key:"accelBody",value:function(e){var t=u.a.Vector.rotate(u.a.Vector.create(1e-4,0),e.angle);u.a.Body.applyForce(e,e.position,t)}},{key:"shootBullet",value:function(e,t,A){var i=u.a.Vector.rotate(u.a.Vector.create(15,0),e.angle),n=u.a.Vector.add(e.position,i),s=u.a.Bodies.circle(n.x,n.y,2);s.label=t,s.frictionAir=0,s.frictionStatic=0,s.render.fillStyle=A;var a=u.a.Vector.rotate(u.a.Vector.create(5,0),e.angle);u.a.Body.setVelocity(s,a),u.a.Body.setMass(s,10*s.mass),d.Composite.add(this.engine.world,s)}},{key:"addSprite",value:function(e,t){e.render.sprite?e.render.sprite.texture=t:e.render.sprite={texture:t,xScale:1,yScale:1}}},{key:"createExplosionAt",value:function(e){var t=u.a.Bodies.circle(e.x,e.y,36,{isStatic:!0});t.collisionFilter.mask=8,t.collisionFilter.group=2,t.collisionFilter.category=2,this.addSprite(t,"data:image/png;base64,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"),d.Composite.add(this.engine.world,t)}},{key:"buildSun",value:function(){var e=u.a.Bodies.circle(this.center.x,this.center.y,v,{isStatic:!0});return e.render.strokeStyle="#000000",this.addSprite(e,"data:image/png;base64,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"),e}},{key:"buildPlayer",value:function(e,t){var A=u.a.Vector.add(u.a.Vector.create(b*Math.cos(e*Math.PI),b*Math.sin(e*Math.PI)),this.center),i=u.a.Bodies.rectangle(A.x,A.y,I,m);i.frictionAir=0,i.frictionStatic=0,i.render.fillStyle="#ff0000",this.addSprite(i,t);var n=(u.a.Vector.angle(this.center,i.position)+90)%360;return u.a.Body.setVelocity(i,u.a.Vector.rotate(u.a.Vector.create(-C,0),n)),i}},{key:"handleKeyDown",value:function(e){this.player1IsHuman&&(this.tickInput.player1[k[e.key]]=!0),this.player2IsHuman&&(this.tickInput.player2[O[e.key]]=!0)}},{key:"handleKeyUp",value:function(e){this.player1IsHuman&&(this.tickInput.player1[k[e.key]]=!1),this.player2IsHuman&&(this.tickInput.player2[O[e.key]]=!1)}}]),e}(),k={a:"rotateLeft",s:"accelDown",d:"rotateRight",w:"accelUp",q:"fireBullet"},O={j:"rotateLeft",k:"accelDown",l:"rotateRight",i:"accelUp",u:"fireBullet"},x=A(7),w=function(){function e(t,A){Object(l.a)(this,e),this.ml_solver=void 0,this.ml_env=void 0,this.ML_NUM_INPUTS=6,this.ML_NUM_ACTIONS=5,this.ML_TEMPORAL_WINDOW=30,this.tickCount=0,this.ml_env=new x.DQNEnv(t,A,this.ML_NUM_INPUTS,this.ML_NUM_ACTIONS);var i=this.getMlOptions();this.ml_solver=new x.DQNSolver(this.ml_env,i),this.tickCount=0}return Object(h.a)(e,[{key:"getMlOptions",value:function(){var e=this.ML_NUM_INPUTS*this.ML_TEMPORAL_WINDOW+this.ML_NUM_ACTIONS*this.ML_TEMPORAL_WINDOW+this.ML_NUM_INPUTS,t=[];t.push({type:"input",out_sx:1,out_sy:1,out_depth:e}),t.push({type:"fc",num_neurons:50,activation:"relu"}),t.push({type:"fc",num_neurons:50,activation:"relu"}),t.push({type:"regression",num_classes:this.ML_NUM_ACTIONS});var A=new x.DQNOpt;return A.setTrainingMode(!0),A.setNumberOfHiddenUnits([100]),A.setEpsilonDecay(1,.1,1e6),A.setEpsilon(.05),A.setGamma(.9),A.setAlpha(.005),A.setLossClipping(!0),A.setLossClamp(1),A.setRewardClipping(!0),A.setRewardClamp(1),A.setExperienceSize(1e6),A.setReplayInterval(100),A.setReplaySteps(100),A}},{key:"decideNextTickInput",value:function(e){var t={rotateLeft:!1,rotateRight:!1,accelUp:!1,accelDown:!1,fireBullet:!1},A=u.a.Vector.sub(e.player2.position,e.sun.position),i=u.a.Vector.magnitude(A),n=u.a.Vector.angle(e.player2.position,e.sun.position),s=u.a.Vector.sub(e.player1.position,e.player2.position),a=u.a.Vector.magnitude(s),r=[u.a.Vector.angle(e.player1.position,e.player2.position),a,n,i,e.player1Alive?1:0,e.player2Alive?1:0],l=this.ml_solver.decide(r);return 0===l||(1===l?t.rotateLeft=!0:2===l?t.rotateRight=!0:3===l&&(t.accelUp=!0)),t}},{key:"rewardAfterTick",value:function(e){var t=u.a.Vector.sub(e.player1.position,e.player2.position),A=(u.a.Vector.magnitude(t),u.a.Vector.sub(e.player2.position,e.sun.position)),i=u.a.Vector.magnitude(A);this.ml_solver.learn(1/i+40)}},{key:"loadState",value:function(e){this.ml_solver.fromJSON(e)}},{key:"saveState",value:function(){return this.ml_solver.toJSON()}},{key:"rewardGame",value:function(e){}}]),e}();!function(e){e[e.Human=0]="Human",e[e.AILevel1=1]="AILevel1",e[e.AILevel2=2]="AILevel2"}(i||(i={}));var B=function(){function e(){Object(l.a)(this,e),this.score=void 0,this.runner=void 0,this.gameOptions=void 0,this.mountElement=void 0,this.player2Agent=void 0,this.score={rounds:0,winsShip1:0,winsShip2:0,bulletsFired:0},this.runner=null,this.gameOptions=null,this.mountElement=null,this.player2Agent=null}return Object(h.a)(e,[{key:"mountGame",value:function(e){this.mountElement=e}},{key:"newGame",value:function(e){var t;this.mountElement&&(this.gameOptions=e,null!=this.player2Agent&&e.trainAgent||(this.player2Agent=new w(e.width,e.height)),null===(t=this.runner)||void 0===t||t.destroy(),this.runner=new j(this.mountElement,e.player1===i.Human,e.player2===i.Human,this.player2Agent,this.onGameEnd.bind(this),e.trainAgent?10:1,e.width,e.height))}},{key:"onGameEnd",value:function(e){var t,A,i;(console.log("Game Ended, player1 won = ".concat(e)),e)||console.log(JSON.stringify(null===(A=this.player2Agent)||void 0===A?void 0:A.saveState()));(null===(t=this.gameOptions)||void 0===t?void 0:t.trainAgent)&&(null===(i=this.player2Agent)||void 0===i||i.rewardGame(!e),this.newGame(this.gameOptions))}},{key:"pauseGame",value:function(){this.runner&&this.runner.setRunning(!this.runner.isRunning())}},{key:"isPaused",value:function(){var e;return console.log("Checking is Paused"),(null===(e=this.runner)||void 0===e?void 0:e.isRunning())||!1}},{key:"getScore",value:function(){return this.score}}]),e}(),M=A(0);var E=function(e){Object(c.a)(A,e);var t=Object(o.a)(A);function A(e){var n;return Object(l.a)(this,A),(n=t.call(this,e)).canvasDivRef=void 0,n.game=void 0,n.canvasDivRef=s.a.createRef(),n.game=new B,n.state={player1:i.Human,player2:i.AILevel1,width:800,height:600,showInstructions:!1,trainAgent:!1},n}return Object(h.a)(A,[{key:"componentDidMount",value:function(){this.canvasDivRef&&this.canvasDivRef.current&&(this.game.mountGame(this.canvasDivRef.current),this.handleNewGame())}},{key:"handlePauseGame",value:function(){this.game.pauseGame()}},{key:"handleNewGame",value:function(){this.game.newGame(this.state)}},{key:"handleCheckChange",value:function(e){var t=e.target,A=t.checked?i.Human:i.AILevel1;"player1"===t.name&&(console.log("setting player 1 to ",A),this.setState({player1:A})),"player2"===t.name&&(console.log("setting player 2 to ",A),this.setState({player2:A}))}},{key:"toggleTraining",value:function(e){this.setState({trainAgent:!this.state.trainAgent})}},{key:"toggleInstructions",value:function(e){this.setState({showInstructions:!this.state.showInstructions})}},{key:"render",value:function(){return Object(M.jsxs)("div",{className:"App-game",children:[Object(M.jsx)("button",{onClick:this.handleNewGame.bind(this),children:"New Game"}),Object(M.jsx)("button",{onClick:this.toggleInstructions.bind(this),children:"Instructions"}),Object(M.jsx)("label",{htmlFor:"player2-train",children:"Train AI"}),Object(M.jsx)("input",{type:"checkbox",name:"player2-train",id:"player2-train",checked:!0===this.state.trainAgent,onChange:this.toggleTraining.bind(this)}),Object(M.jsx)("label",{htmlFor:"player2",children:"Player 2 is human"}),Object(M.jsx)("input",{type:"checkbox",name:"player2",id:"player2",checked:this.state.player2===i.Human,onChange:this.handleCheckChange.bind(this)}),this.state.showInstructions?(this.state,Object(M.jsxs)("div",{className:"App-instructions",children:[Object(M.jsx)("p",{children:"You are the red satellite orbiting the Sun.  Your goal is to shoot the blue satellite before it shoots you."}),Object(M.jsxs)("div",{className:"Key-table-wrapper",children:[Object(M.jsxs)("table",{className:"Key-table",children:[Object(M.jsx)("tr",{children:Object(M.jsx)("td",{colSpan:2,children:"Player 1"})}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"a"}),Object(M.jsx)("td",{children:"Spin Left"})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"d"}),Object(M.jsx)("td",{children:"Spin Right"})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"w"}),Object(M.jsx)("td",{children:"Thrust"})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"q"}),Object(M.jsx)("td",{children:"Shoot"})]})]}),Object(M.jsxs)("table",{className:"Key-table",children:[Object(M.jsx)("tr",{children:Object(M.jsx)("td",{colSpan:2,children:"Player 2"})}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"j"}),Object(M.jsx)("td",{children:"Spin Left"})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"l"}),Object(M.jsx)("td",{children:"Spin Right"})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"i"}),Object(M.jsx)("td",{children:"Thrust"})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:"u"}),Object(M.jsx)("td",{children:"Shoot"})]})]})]})]})):"",Object(M.jsx)("div",{className:"playwindow",ref:this.canvasDivRef})]})}},{key:"unused",value:function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"player1",children:"Player 1 is human"}),Object(M.jsx)("input",{type:"checkbox",name:"player1",id:"player1",checked:this.state.player1===i.Human,onChange:this.handleCheckChange.bind(this)})]})}}]),A}(s.a.Component);var Y=function(){return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)("header",{className:"App-header",children:Object(M.jsx)("h1",{children:"Space Duel on the Web"})}),Object(M.jsx)(E,{}),Object(M.jsxs)("footer",{className:"App-footer",children:["A React port of ",Object(M.jsx)("a",{href:"https://github.com/KDE/kspaceduel/",children:"KSpaceDuel"})," using ",Object(M.jsx)("a",{href:"https://brm.io/matter-js/",children:"Matter-JS"})]})]})},f=function(e){e&&e instanceof Function&&A.e(3).then(A.bind(null,58)).then((function(t){var A=t.getCLS,i=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;A(e),i(e),n(e),s(e),a(e)}))};r.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(Y,{})}),document.getElementById("root")),f()}},[[57,1,2]]]);
//# sourceMappingURL=main.ab0903e7.chunk.js.map